# Каталог строительных материалов

Одностраничное приложение (SPA) с каталогом строительных материалов, режимом редактирования и интеграцией с ИИ для генерации описаний товаров.

## Возможности

- ✅ Маршрутизация по якорям (главная, каталог, корзина).
- ✅ Режим редактирования с защитой PIN (bcrypt), подсветкой и историей изменений (undo/redo).
- ✅ Перетаскивание карточек товаров на базе Sortable.js.
- ✅ Импорт/экспорт каталога в JSON и CSV, загрузка исходных данных из `data/catalog.json`.
- ✅ Поиск и фильтрация по названию, категории и диапазону цен.
- ✅ Генерация описаний через API Gemini с индикатором загрузки.
- ✅ Сохранение корзины и контента в localForage с компрессией LZ-string.
- ✅ Базовые unit-тесты (Jest), линтинг ESLint/Prettier, типизация TypeScript.
- ✅ Сервер Express с rate limiting и проксированием к Gemini.

## Требования

- Node.js 18+
- Активный ключ Gemini (переменная окружения `GEMINI_API_KEY`)

## Установка

```bash
npm install
```

## Режим разработки

```bash
npm run dev
```

Команда собирает проект и запускает сервер на `http://localhost:3000`.

## Сборка

```bash
npm run build
```

В результате появится директория `dist/` с собранным сервером и фронтендом.

## Тесты и качество кода

```bash
npm test      # Jest
npm run lint  # ESLint
npm run format # Prettier
```

## Переменные окружения

- `PORT` — порт сервера (по умолчанию `3000`).
- `GEMINI_API_KEY` — ключ доступа к API Gemini.
- `GEMINI_ENDPOINT` — опциональная переопределяемая ссылка на конечную точку Gemini.

## Структура

```
src/          # TypeScript модули фронтенда
scripts/      # Скрипты сборки
tests/        # Юнит-тесты
index.html    # Шаблон SPA
styles.css    # Базовые стили
server.ts     # Express-сервер
```

## Безопасность

- Контент очищается от XSS через `sanitizeHtml`.
- PIN хранится в виде bcrypt-хеша.
- На сервере действует ограничение запросов (rate limiting) и валидация данных.

## Лицензия

MIT
